<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <p:menu toggleable="true" >
        <p:submenu label="Listados:">
            <p:menuitem value="Personal"  action="#{gestorNavegacion.cargarPagina(6, null)}" icon="fa fa-list" />
            <p:menuitem value="Proyectos" action="#{gestorNavegacion.cargarPagina(7, null)}" icon="fa fa-list" />
            <p:menuitem value="Contratos" rendered="#{gestorUsuario.puedeVerMasInfo}" action="#{gestorNavegacion.cargarPagina(2, null)}" icon="fa fa-list" />
            <p:menuitem value="Artículos" action="#{gestorNavegacion.cargarPagina(1, null)}" icon="fa fa-list" />
            <p:menuitem value="Convenios" action="#{gestorNavegacion.cargarPagina(3, null)}" icon="fa fa-list" />
            <p:menuitem value="Tesis" action="#{gestorNavegacion.cargarPagina(8, null)}" icon="fa fa-list" />
            <p:menuitem value="Pasantías" action="#{gestorNavegacion.cargarPagina(5, null)}" icon="fa fa-list" />
            <p:menuitem value="Instituciones" action="#{gestorNavegacion.cargarPagina(4, null)}" icon="fa fa-list" />
        </p:submenu>
        <p:submenu label="Nuevo:" rendered="#{gestorUsuario.puedeAgregar}">
            <p:menuitem value="Persona" action="#{gestorNavegacion.cargarPaginaCrearModificar(6, null)}" icon="fa fa-plus" />
            <p:menuitem value="Proyecto" action="#{gestorNavegacion.cargarPaginaCrearModificar(7, null)}" icon="fa fa-plus" />
            <p:menuitem value="Contrato" action="#{gestorNavegacion.cargarPaginaCrearModificar(2, null)}" icon="fa fa-plus" />
            <p:menuitem value="Artículo" action="#{gestorNavegacion.cargarPaginaCrearModificar(1, null)}" icon="fa fa-plus" />
            <p:menuitem value="Convenio" action="#{gestorNavegacion.cargarPaginaCrearModificar(3, null)}" icon="fa fa-plus" />
            <p:menuitem value="Tesis" action="#{gestorNavegacion.cargarPaginaCrearModificar(8, null)}" icon="fa fa-plus" />            
            <p:menuitem value="Pasantía" action="#{gestorNavegacion.cargarPaginaCrearModificar(5, null)}" icon="fa fa-plus" />
        </p:submenu>
    </p:menu>
    <p:panel>
        <h:panelGroup layout="block" rendered="#{gestorUsuario.logeado}" >
            <p:outputLabel value="Usuario:" />
            <br/>
            <p:outputLabel value="#{gestorUsuario.usuarioActual.usuario}" />
            <br/>
            <p:commandButton value="Cerrar sesión" action="#{gestorUsuario.logout()}" update="formMenu formContenido"/>
        </h:panelGroup>
        <h:panelGrid columns="1" rendered="#{!gestorUsuario.logeado}" >
            <p:outputLabel value="Usuario"/>
            <p:inputText id="txtUser" value="#{gestorUsuario.usuario}" size="12" maxlength="50"
                         style="width: 80px"/>
            <p:outputLabel value="Contraseña"/>
            <p:password id="txtPass" widgetVar="pass" value="#{gestorUsuario.password}" size="12" maxlength="255"
                        style="width: 80px"/>
            <p:commandButton value="Login" action="#{gestorUsuario.login()}" update="formMenu formContenido"/>
        </h:panelGrid>       
    </p:panel>   
</ui:composition>